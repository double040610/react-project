"use strict";(self.webpackChunkreact_pc_142=self.webpackChunkreact_pc_142||[]).push([[870],{6122:function(e,n,t){t.r(n),t.d(n,{default:function(){return m}});var r=t(5861),a=t(7757),o=t.n(a),i=t(4376),l=t(8143),c=t(570),s=t(8678),u=t(2014),d=t(7309),f=t.p+"static/media/logo.536c5d801c4010c7ed6d.png",p=t(6871),v=t(6525),h=t(184);var m=function(){var e=(0,v.o)().loginStore,n=(0,p.s0)();function t(){return(t=(0,r.Z)(o().mark((function t(r){var a,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(r),a=r.mobile,l=r.code,t.next=4,e.getToken({mobile:a,code:l});case 4:n("/",{replace:!0}),i.ZP.success("\u767b\u5f55\u6210\u529f");case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,h.jsx)("div",{className:"login",children:(0,h.jsxs)(l.Z,{className:"login-container",children:[(0,h.jsx)("img",{className:"login-logo",src:f,alt:""}),(0,h.jsxs)(c.Z,{validateTrigger:["onBlur","onChange"],initialValues:{remember:!0,mobile:"13811111111",code:"246810"},onFinish:function(e){return t.apply(this,arguments)},children:[(0,h.jsx)(c.Z.Item,{name:"mobile",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"},{pattern:/^1[3-9]\d{9}$/,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",validateTrigger:"onBlur"}],children:(0,h.jsx)(s.Z,{size:"large",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"})}),(0,h.jsx)(c.Z.Item,{name:"code",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{len:6,message:"\u8bf7\u8f93\u51656\u4f4d\u5bc6\u7801",validateTrigger:"onBlur"}],children:(0,h.jsx)(s.Z,{size:"large",placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"})}),(0,h.jsx)(c.Z.Item,{name:"remember",valuePropName:"checked",children:(0,h.jsx)(u.Z,{className:"login-checkbox-label",children:"\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f\u300c\u7528\u6237\u534f\u8bae\u300d\u548c\u300c\u9690\u79c1\u6761\u6b3e\u300d"})}),(0,h.jsx)(c.Z.Item,{children:(0,h.jsx)(d.Z,{type:"primary",htmlType:"submit",size:"large",block:!0,children:"\u767b\u5f55"})})]})]})})}},6525:function(e,n,t){t.d(n,{o:function(){return b}});var r=t(3144),a=t(5671),o=t(7363),i=t.n(o),l=t(5861),c=t(7757),s=t.n(c),u=t(4098),d=t(8185),f=(0,r.Z)((function e(){var n=this;(0,a.Z)(this,e),this.token=(0,d.LP)()||"",this.getToken=function(){var e=(0,l.Z)(s().mark((function e(t){var r,a,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.mobile,a=t.code,e.next=3,d.dJ.post("http://geek.itheima.net/v1_0/authorizations",{mobile:r,code:a});case 3:o=e.sent,n.token=o.data.token,(0,d.o4)(n.token);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),this.loginOut=function(){n.token="",(0,d.gy)()},(0,u.ky)(this)})),p=f,v=(0,r.Z)((function e(){var n=this;(0,a.Z)(this,e),this.userInfo={},this.getUserInfo=(0,l.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.dJ.get("/user/profile");case 2:t=e.sent,n.userInfo=t.data;case 4:case"end":return e.stop()}}),e)}))),(0,u.ky)(this)})),h=(0,r.Z)((function e(){var n=this;(0,a.Z)(this,e),this.channelList=[],this.loadChannelList=(0,l.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.dJ.get("/channels");case 2:t=e.sent,n.channelList=t.data.channels;case 4:case"end":return e.stop()}}),e)}))),(0,u.ky)(this)}));(0,u.jQ)({enforceActions:"never"});var m=new((0,r.Z)((function e(){(0,a.Z)(this,e),this.loginStore=new p,this.userStore=new v,this.channelStore=new h}))),g=i().createContext(m),b=function(){return i().useContext(g)}},2014:function(e,n,t){t.d(n,{Z:function(){return O}});var r=t(4942),a=t(7462),o=t(7363),i=t(1694),l=t.n(i),c=t(8083),s=t(3433),u=t(9439),d=t(1818),f=t(9077),p=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},v=o.createContext(null),h=function(e,n){var t=e.defaultValue,i=e.children,c=e.options,h=void 0===c?[]:c,m=e.prefixCls,g=e.className,b=e.style,x=e.onChange,y=p(e,["defaultValue","children","options","prefixCls","className","style","onChange"]),Z=o.useContext(f.E_),C=Z.getPrefixCls,O=Z.direction,w=o.useState(y.value||t||[]),j=(0,u.Z)(w,2),E=j[0],N=j[1],P=o.useState([]),I=(0,u.Z)(P,2),S=I[0],_=I[1];o.useEffect((function(){"value"in y&&N(y.value||[])}),[y.value]);var V=function(){return h.map((function(e){return"string"===typeof e||"number"===typeof e?{label:e,value:e}:e}))},L=C("checkbox",m),T="".concat(L,"-group"),M=(0,d.Z)(y,["value","disabled"]);h&&h.length>0&&(i=V().map((function(e){return o.createElement(k,{prefixCls:L,key:e.value.toString(),disabled:"disabled"in e?e.disabled:y.disabled,value:e.value,checked:-1!==E.indexOf(e.value),onChange:e.onChange,className:"".concat(T,"-item"),style:e.style},e.label)})));var z={toggleOption:function(e){var n=E.indexOf(e.value),t=(0,s.Z)(E);-1===n?t.push(e.value):t.splice(n,1),"value"in y||N(t);var r=V();null===x||void 0===x||x(t.filter((function(e){return-1!==S.indexOf(e)})).sort((function(e,n){return r.findIndex((function(n){return n.value===e}))-r.findIndex((function(e){return e.value===n}))})))},value:E,disabled:y.disabled,name:y.name,registerValue:function(e){_((function(n){return[].concat((0,s.Z)(n),[e])}))},cancelValue:function(e){_((function(n){return n.filter((function(n){return n!==e}))}))}},B=l()(T,(0,r.Z)({},"".concat(T,"-rtl"),"rtl"===O),g);return o.createElement("div",(0,a.Z)({className:B,style:b},M,{ref:n}),o.createElement(v.Provider,{value:z},i))},m=o.forwardRef(h),g=o.memo(m),b=t(4824),x=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},y=function(e,n){var t,i=e.prefixCls,s=e.className,u=e.children,d=e.indeterminate,p=void 0!==d&&d,h=e.style,m=e.onMouseEnter,g=e.onMouseLeave,y=e.skipGroup,Z=void 0!==y&&y,k=x(e,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),C=o.useContext(f.E_),O=C.getPrefixCls,w=C.direction,j=o.useContext(v),E=o.useRef(k.value);o.useEffect((function(){null===j||void 0===j||j.registerValue(k.value),(0,b.Z)("checked"in k||!!j||!("value"in k),"Checkbox","`value` is not a valid prop, do you mean `checked`?")}),[]),o.useEffect((function(){if(!Z)return k.value!==E.current&&(null===j||void 0===j||j.cancelValue(E.current),null===j||void 0===j||j.registerValue(k.value),E.current=k.value),function(){return null===j||void 0===j?void 0:j.cancelValue(k.value)}}),[k.value]);var N=O("checkbox",i),P=(0,a.Z)({},k);j&&!Z&&(P.onChange=function(){k.onChange&&k.onChange.apply(k,arguments),j.toggleOption&&j.toggleOption({label:u,value:k.value})},P.name=j.name,P.checked=-1!==j.value.indexOf(k.value),P.disabled=k.disabled||j.disabled);var I=l()((t={},(0,r.Z)(t,"".concat(N,"-wrapper"),!0),(0,r.Z)(t,"".concat(N,"-rtl"),"rtl"===w),(0,r.Z)(t,"".concat(N,"-wrapper-checked"),P.checked),(0,r.Z)(t,"".concat(N,"-wrapper-disabled"),P.disabled),t),s),S=l()((0,r.Z)({},"".concat(N,"-indeterminate"),p));return o.createElement("label",{className:I,style:h,onMouseEnter:m,onMouseLeave:g},o.createElement(c.Z,(0,a.Z)({},P,{prefixCls:N,className:S,ref:n})),void 0!==u&&o.createElement("span",null,u))},Z=o.forwardRef(y);Z.displayName="Checkbox";var k=Z,C=k;C.Group=g,C.__ANT_CHECKBOX=!0;var O=C}}]);
//# sourceMappingURL=870.10c4aeb2.chunk.js.map